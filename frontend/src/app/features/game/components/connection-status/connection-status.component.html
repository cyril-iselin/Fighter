<div class="flex items-center gap-3 px-5 py-2.5 bg-dark-card/80 backdrop-blur-md rounded-full border border-white/10 shadow-lg">
  @switch (state) {
    @case (ConnectionState.Connecting) {
      <span class="relative flex h-3 w-3">
        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"></span>
        <span class="relative inline-flex rounded-full h-3 w-3 bg-yellow-500"></span>
      </span>
      <span class="text-sm font-medium text-white/70">Verbinden...</span>
    }
    @case (ConnectionState.Connected) {
      <span class="relative flex h-3 w-3">
        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-neon-green opacity-75"></span>
        <span class="relative inline-flex rounded-full h-3 w-3 bg-neon-green"></span>
      </span>
      <span class="text-sm font-medium text-white/70">Verbunden</span>
      <span class="text-xs text-neon-green/60 font-mono">{{ ping }}ms</span>
    }
    @case (ConnectionState.InQueue) {
      <span class="relative flex h-3 w-3">
        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-neon-green opacity-75"></span>
        <span class="relative inline-flex rounded-full h-3 w-3 bg-neon-green"></span>
      </span>
      <span class="text-sm font-medium text-white/70">Warte auf Gegner</span>
      <span class="text-xs text-neon-green/60 font-mono">{{ ping }}ms</span>
    }
    @case (ConnectionState.InMatch) {
      <span class="relative flex h-3 w-3">
        <span class="animate-pulse absolute inline-flex h-full w-full rounded-full bg-neon-red opacity-75"></span>
        <span class="relative inline-flex rounded-full h-3 w-3 bg-neon-red"></span>
      </span>
      <span class="text-sm font-bold text-white tracking-wide">VS {{ opponentName }}</span>
      <span class="text-xs text-neon-green font-mono">{{ ping }}ms</span>
    }
    @case (ConnectionState.Error) {
      <span class="flex h-3 w-3 rounded-full bg-red-500"></span>
      <span class="text-sm text-red-400">Verbindung fehlgeschlagen</span>
      <button 
        (click)="retry.emit()"
        class="px-3 py-1 text-xs font-bold bg-neon-green text-dark-bg rounded-full hover:bg-neon-green/80 transition-all hover:scale-105 active:scale-95">
        NOCHMAL
      </button>
    }
    @default {
      <span class="flex h-3 w-3 rounded-full bg-gray-500"></span>
      <span class="text-sm text-gray-400">Getrennt</span>
    }
  }
</div>
