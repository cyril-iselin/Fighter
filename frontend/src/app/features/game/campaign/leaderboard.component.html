<!-- Leaderboard Component - Wundersch√∂ne Rangliste -->
<div class="fixed inset-0 bg-black/95 flex items-center justify-center z-50 backdrop-blur-sm">
  
  <!-- Animated Background -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-0 left-1/4 w-[600px] h-[600px] bg-yellow-500/5 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-neon-green/5 rounded-full blur-3xl"></div>
    <!-- Grid Pattern -->
    <div class="absolute inset-0 opacity-5"
      style="background-image: linear-gradient(rgba(255,215,0,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,215,0,0.1) 1px, transparent 1px); background-size: 50px 50px;">
    </div>
  </div>
  
  <div class="relative z-10 w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col">
    <!-- Card -->
    <div class="bg-gradient-to-b from-gray-900/95 to-black/95 rounded-3xl border border-yellow-500/30 shadow-2xl shadow-yellow-500/10 overflow-hidden flex flex-col">
      
      <!-- Header -->
      <div class="relative px-8 pt-8 pb-6 text-center flex-shrink-0">
        <div class="absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-transparent via-yellow-500 to-transparent"></div>
        
        <!-- Trophy Animation -->
        <div class="inline-flex items-center justify-center mb-4">
          <span class="text-6xl animate-bounce-subtle">üèÜ</span>
        </div>
        
        <h2 class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-yellow-200 to-yellow-400 font-orbitron tracking-wider">
          RANGLISTE
        </h2>
        <p class="text-gray-400 font-orbitron text-sm mt-2">
          Die besten K√§mpfer aller Zeiten
        </p>
      </div>
      
      <!-- Leaderboard Table -->
      <div class="px-6 pb-6 flex-1 overflow-hidden flex flex-col min-h-0">
        @if (loading()) {
          <div class="flex items-center justify-center py-12">
            <div class="animate-spin w-12 h-12 border-4 border-yellow-500/30 border-t-yellow-500 rounded-full"></div>
          </div>
        } @else if (entries().length === 0) {
          <div class="text-center py-12">
            <span class="text-6xl mb-4 block">üëª</span>
            <p class="text-gray-400 font-orbitron">Noch keine Eintr√§ge</p>
            <p class="text-gray-600 text-sm mt-2">Sei der Erste!</p>
          </div>
        } @else {
          <div class="overflow-y-auto flex-1 pr-2 custom-scrollbar">
            <div class="space-y-3 py-2">
              @for (entry of entries(); track entry.rank; let i = $index) {
                <div 
                  class="group relative rounded-xl overflow-hidden transition-colors duration-200"
                  [class.bg-gradient-to-r]="i < 3"
                  [class.from-yellow-500/20]="i === 0"
                  [class.to-yellow-600/10]="i === 0"
                  [class.from-gray-400/20]="i === 1"
                  [class.to-gray-500/10]="i === 1"
                  [class.from-orange-700/20]="i === 2"
                  [class.to-orange-800/10]="i === 2"
                  [class.bg-gray-900/50]="i >= 3"
                  [class.hover:bg-gray-800/70]="i >= 3"
                  [class.border]="true"
                  [class.border-yellow-500/30]="i === 0"
                  [class.border-gray-400/30]="i === 1"
                  [class.border-orange-700/30]="i === 2"
                  [class.border-gray-800]="i >= 3"
                  [class.hover:border-gray-700]="i >= 3"
                  [class.ring-2]="highlightRank() === entry.rank"
                  [class.ring-neon-green]="highlightRank() === entry.rank"
                  [class.animate-pulse]="highlightRank() === entry.rank"
                >
                  <div class="flex items-center px-5 py-4 gap-4">
                    <!-- Rank -->
                    <div class="w-12 text-center flex-shrink-0">
                      @if (i === 0) {
                        <span class="text-3xl">ü•á</span>
                      } @else if (i === 1) {
                        <span class="text-3xl">ü•à</span>
                      } @else if (i === 2) {
                        <span class="text-3xl">ü•â</span>
                      } @else {
                        <span class="text-2xl font-bold text-gray-500 font-orbitron">{{ entry.rank }}</span>
                      }
                    </div>
                    
                    <!-- Player Info -->
                    <div class="flex-1 min-w-0">
                      <div class="font-bold text-white font-orbitron truncate text-lg">
                        {{ entry.playerName }}
                      </div>
                      <div class="text-xs text-gray-500 flex items-center gap-2">
                        <span>Level {{ entry.level }}</span>
                        <span class="text-gray-700">‚Ä¢</span>
                        <span class="text-neon-green">+{{ entry.bonusPoints }} Bonus</span>
                      </div>
                    </div>
                    
                    <!-- Score -->
                    <div class="text-right flex-shrink-0">
                      <div 
                        class="text-2xl font-black font-orbitron"
                        [class.text-yellow-400]="i === 0"
                        [class.text-gray-300]="i === 1"
                        [class.text-orange-400]="i === 2"
                        [class.text-white]="i >= 3"
                      >
                        {{ entry.score | number }}
                      </div>
                      <div class="text-xs text-gray-600">PUNKTE</div>
                    </div>
                  </div>
                  
                  <!-- Subtle highlight for top 3 on hover -->
                  @if (i < 3) {
                    <div class="absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                  }
                </div>
              }
            </div>
          </div>
        }
      </div>
      
      <!-- Footer -->
      <div class="px-8 pb-8 flex-shrink-0">
        <button
          (click)="onClose()"
          class="w-full px-6 py-4 bg-gradient-to-r from-gray-800 to-gray-700 text-white
                 font-orbitron text-lg tracking-wider rounded-xl
                 hover:from-gray-700 hover:to-gray-600
                 border border-gray-600
                 transition-all duration-300"
        >
          SCHLIE·∫ûEN <span class="text-sm opacity-60">[SPACE]</span>
        </button>
      </div>
      
    </div>
  </div>
</div>

<style>
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 3px;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(255, 215, 0, 0.3);
  border-radius: 3px;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 215, 0, 0.5);
}
</style>
